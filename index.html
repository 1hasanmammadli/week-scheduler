<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weekly Scheduler</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { margin: 0; padding: 0; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const DAYS = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
        const TIME_SLOTS = Array.from({ length: 24 }, (_, i) => `${i.toString().padStart(2, '0')}:00`);

        // SVG Icons as components
        const PlusIcon = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
        );

        const TrashIcon = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <polyline points="3 6 5 6 21 6"></polyline>
                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
            </svg>
        );

        const ClockIcon = () => (
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <circle cx="12" cy="12" r="10"></circle>
                <polyline points="12 6 12 12 16 14"></polyline>
            </svg>
        );

        const SaveIcon = () => (
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
                <polyline points="17 21 17 13 7 13 7 21"></polyline>
                <polyline points="7 3 7 8 15 8"></polyline>
            </svg>
        );

        const CalendarIcon = () => (
            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
        );

        function WeekScheduler() {
            const [schedule, setSchedule] = useState({});
            const [selectedDay, setSelectedDay] = useState('Monday');
            const [newTask, setNewTask] = useState({ title: '', time: '09:00', category: 'work' });
            const [saveStatus, setSaveStatus] = useState('');

            const categories = {
                work: { color: 'bg-blue-500', label: 'Work' },
                personal: { color: 'bg-purple-500', label: 'Personal' },
                fitness: { color: 'bg-green-500', label: 'Fitness' },
                social: { color: 'bg-pink-500', label: 'Social' },
                other: { color: 'bg-gray-500', label: 'Other' }
            };

            useEffect(() => {
                loadSchedule();
            }, []);

            const loadSchedule = () => {
                try {
                    const saved = localStorage.getItem('weekly-schedule');
                    if (saved) {
                        setSchedule(JSON.parse(saved));
                    }
                } catch (error) {
                    console.log('No saved schedule found');
                }
            };

            const saveSchedule = (updatedSchedule) => {
                try {
                    localStorage.setItem('weekly-schedule', JSON.stringify(updatedSchedule));
                    setSaveStatus('Saved!');
                    setTimeout(() => setSaveStatus(''), 2000);
                } catch (error) {
                    setSaveStatus('Error saving');
                    console.error('Save error:', error);
                }
            };

            const addTask = () => {
                if (!newTask.title.trim()) return;
                
                const dayTasks = schedule[selectedDay] || [];
                const updated = {
                    ...schedule,
                    [selectedDay]: [...dayTasks, { ...newTask, id: Date.now() }]
                };
                
                setSchedule(updated);
                saveSchedule(updated);
                setNewTask({ title: '', time: '09:00', category: 'work' });
            };

            const deleteTask = (day, taskId) => {
                const updated = {
                    ...schedule,
                    [day]: schedule[day].filter(task => task.id !== taskId)
                };
                setSchedule(updated);
                saveSchedule(updated);
            };

            const getDayTasks = (day) => {
                const tasks = schedule[day] || [];
                return tasks.sort((a, b) => a.time.localeCompare(b.time));
            };

            const getTotalTasks = () => {
                return Object.values(schedule).reduce((sum, tasks) => sum + tasks.length, 0);
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-8">
                    <div className="max-w-7xl mx-auto">
                        {/* Header */}
                        <div className="mb-8">
                            <div className="flex items-center justify-between mb-4">
                                <div className="flex items-center gap-3">
                                    <CalendarIcon />
                                    <h1 className="text-4xl font-bold text-white">Weekly Scheduler</h1>
                                </div>
                                <div className="flex items-center gap-4">
                                    {saveStatus && (
                                        <span className="text-green-400 flex items-center gap-2">
                                            <SaveIcon />
                                            {saveStatus}
                                        </span>
                                    )}
                                    <div className="bg-white/10 backdrop-blur-sm px-4 py-2 rounded-lg border border-white/20">
                                        <span className="text-white/70 text-sm">Total Tasks: </span>
                                        <span className="text-white font-bold text-lg">{getTotalTasks()}</span>
                                    </div>
                                </div>
                            </div>
                            <p className="text-white/60">Plan your week efficiently with a modern, tech-inspired interface</p>
                        </div>

                        {/* Day Selector */}
                        <div className="mb-8 flex gap-2 overflow-x-auto pb-2">
                            {DAYS.map(day => {
                                const taskCount = (schedule[day] || []).length;
                                return (
                                    <button
                                        key={day}
                                        onClick={() => setSelectedDay(day)}
                                        className={`flex-shrink-0 px-6 py-3 rounded-xl font-medium transition-all ${
                                            selectedDay === day
                                                ? 'bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg scale-105'
                                                : 'bg-white/10 text-white/70 hover:bg-white/20 backdrop-blur-sm border border-white/10'
                                        }`}
                                    >
                                        <div className="text-sm">{day}</div>
                                        {taskCount > 0 && (
                                            <div className="text-xs mt-1 opacity-75">{taskCount} tasks</div>
                                        )}
                                    </button>
                                );
                            })}
                        </div>

                        <div className="grid lg:grid-cols-3 gap-6">
                            {/* Add Task Panel */}
                            <div className="lg:col-span-1">
                                <div className="bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20 shadow-xl">
                                    <h2 className="text-xl font-bold text-white mb-4 flex items-center gap-2">
                                        <PlusIcon />
                                        Add New Task
                                    </h2>
                                    
                                    <div className="space-y-4">
                                        <div>
                                            <label className="block text-white/70 text-sm mb-2">Task Title</label>
                                            <input
                                                type="text"
                                                value={newTask.title}
                                                onChange={(e) => setNewTask({ ...newTask, title: e.target.value })}
                                                onKeyPress={(e) => e.key === 'Enter' && addTask()}
                                                placeholder="Enter task name..."
                                                className="w-full bg-white/5 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20"
                                            />
                                        </div>

                                        <div>
                                            <label className="block text-white/70 text-sm mb-2">Time</label>
                                            <select
                                                value={newTask.time}
                                                onChange={(e) => setNewTask({ ...newTask, time: e.target.value })}
                                                className="w-full bg-white/5 border border-white/20 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20"
                                            >
                                                {TIME_SLOTS.map(time => (
                                                    <option key={time} value={time}>{time}</option>
                                                ))}
                                            </select>
                                        </div>

                                        <div>
                                            <label className="block text-white/70 text-sm mb-2">Category</label>
                                            <div className="grid grid-cols-2 gap-2">
                                                {Object.entries(categories).map(([key, { color, label }]) => (
                                                    <button
                                                        key={key}
                                                        onClick={() => setNewTask({ ...newTask, category: key })}
                                                        className={`px-4 py-2 rounded-lg font-medium transition-all ${
                                                            newTask.category === key
                                                                ? `${color} text-white shadow-lg scale-105`
                                                                : 'bg-white/5 text-white/60 hover:bg-white/10 border border-white/10'
                                                        }`}
                                                    >
                                                        {label}
                                                    </button>
                                                ))}
                                            </div>
                                        </div>

                                        <button
                                            onClick={addTask}
                                            className="w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white py-3 rounded-lg font-semibold hover:shadow-lg hover:scale-105 transition-all flex items-center justify-center gap-2"
                                        >
                                            <PlusIcon />
                                            Add Task to {selectedDay}
                                        </button>
                                    </div>
                                </div>
                            </div>

                            {/* Tasks Display */}
                            <div className="lg:col-span-2">
                                <div className="bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20 shadow-xl">
                                    <h2 className="text-2xl font-bold text-white mb-6">{selectedDay}'s Schedule</h2>
                                    
                                    {getDayTasks(selectedDay).length === 0 ? (
                                        <div className="text-center py-12">
                                            <div className="opacity-20 mb-4 flex justify-center">
                                                <ClockIcon />
                                            </div>
                                            <p className="text-white/40 text-lg">No tasks scheduled for {selectedDay}</p>
                                            <p className="text-white/30 text-sm mt-2">Add your first task to get started</p>
                                        </div>
                                    ) : (
                                        <div className="space-y-3">
                                            {getDayTasks(selectedDay).map(task => (
                                                <div
                                                    key={task.id}
                                                    className="bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10 hover:bg-white/10 transition-all group"
                                                >
                                                    <div className="flex items-start justify-between gap-4">
                                                        <div className="flex items-start gap-4 flex-1">
                                                            <div className="flex items-center gap-2">
                                                                <ClockIcon />
                                                                <span className="text-white/70 font-mono text-sm">{task.time}</span>
                                                            </div>
                                                            <div className="flex-1">
                                                                <h3 className="text-white font-medium text-lg">{task.title}</h3>
                                                                <span className={`inline-block mt-2 px-3 py-1 rounded-full text-xs font-medium ${categories[task.category].color} text-white`}>
                                                                    {categories[task.category].label}
                                                                </span>
                                                            </div>
                                                        </div>
                                                        <button
                                                            onClick={() => deleteTask(selectedDay, task.id)}
                                                            className="opacity-0 group-hover:opacity-100 transition-opacity p-2 hover:bg-red-500/20 rounded-lg text-red-400 hover:text-red-300"
                                                        >
                                                            <TrashIcon />
                                                        </button>
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>

                        {/* Legend */}
                        <div className="mt-6 bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10">
                            <div className="flex flex-wrap gap-4 justify-center items-center">
                                <span className="text-white/60 text-sm font-medium">Categories:</span>
                                {Object.entries(categories).map(([key, { color, label }]) => (
                                    <div key={key} className="flex items-center gap-2">
                                        <div className={`w-3 h-3 rounded-full ${color}`}></div>
                                        <span className="text-white/70 text-sm">{label}</span>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<WeekScheduler />);
    </script>
</body>
</html>
