<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#581c87">
    <meta name="description" content="A beautiful weekly planner with dark neon purple theme">
    <title>Planner</title>
    <link rel="icon" type="image/x-icon" href="cropped_circle_image.ico">
    <link rel="manifest" href="manifest.json">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes pulse {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 0.3; }
        }
        .animate-pulse-custom {
            animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        ::-webkit-scrollbar-thumb {
            background: #a855f7;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div id="app"></div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    
    <script>
        const { useState, useEffect } = React;
        
        // Icons
        const Plus = () => React.createElement('svg', { width: 24, height: 24, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
            React.createElement('line', { x1: 12, y1: 5, x2: 12, y2: 19 }),
            React.createElement('line', { x1: 5, y1: 12, x2: 19, y2: 12 })
        );
        
        const X = () => React.createElement('svg', { width: 20, height: 20, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
            React.createElement('line', { x1: 18, y1: 6, x2: 6, y2: 18 }),
            React.createElement('line', { x1: 6, y1: 6, x2: 18, y2: 18 })
        );
        
        const Clock = () => React.createElement('svg', { width: 16, height: 16, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
            React.createElement('circle', { cx: 12, cy: 12, r: 10 }),
            React.createElement('polyline', { points: '12 6 12 12 16 14' })
        );
        
        const AlignLeft = () => React.createElement('svg', { width: 16, height: 16, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
            React.createElement('line', { x1: 17, y1: 10, x2: 3, y2: 10 }),
            React.createElement('line', { x1: 21, y1: 6, x2: 3, y2: 6 }),
            React.createElement('line', { x1: 21, y1: 14, x2: 3, y2: 14 }),
            React.createElement('line', { x1: 17, y1: 18, x2: 3, y2: 18 })
        );
        
        const Check = () => React.createElement('svg', { width: 16, height: 16, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 3 },
            React.createElement('polyline', { points: '20 6 9 17 4 12' })
        );

        function WeeklyPlanner() {
            const [tasks, setTasks] = useState(() => {
                const saved = localStorage.getItem('weeklyPlannerTasks');
                return saved ? JSON.parse(saved) : {};
            });
            const [showModal, setShowModal] = useState(false);
            const [currentDayIndex, setCurrentDayIndex] = useState(0);
            const [newTask, setNewTask] = useState({ title: '', time: '', description: '' });

            const daysOfWeek = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
            
            const getCurrentDay = () => {
                const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
                const today = new Date().getDay();
                return days[today];
            };

            const currentDay = getCurrentDay();
            const selectedDay = daysOfWeek[currentDayIndex];

            useEffect(() => {
                const todayIndex = daysOfWeek.indexOf(currentDay);
                if (todayIndex !== -1) {
                    setCurrentDayIndex(todayIndex);
                }
            }, []);

            useEffect(() => {
                localStorage.setItem('weeklyPlannerTasks', JSON.stringify(tasks));
            }, [tasks]);

            const addTask = () => {
                if (!newTask.title || !newTask.time) return;
                
                const taskId = Date.now();
                setTasks(prev => ({
                    ...prev,
                    [selectedDay]: [...(prev[selectedDay] || []), { ...newTask, id: taskId, done: false }]
                }));
                
                setNewTask({ title: '', time: '', description: '' });
                setShowModal(false);
            };

            const deleteTask = (day, taskId) => {
                setTasks(prev => ({
                    ...prev,
                    [day]: prev[day].filter(task => task.id !== taskId)
                }));
            };
            
            const toggleTaskDone = (day, taskId) => {
                setTasks(prev => ({
                    ...prev,
                    [day]: prev[day].map(task => 
                        task.id === taskId ? { ...task, done: !task.done } : task
                    )
                }));
            };

            const sortedTasks = (day) => {
                return (tasks[day] || []).sort((a, b) => a.time.localeCompare(b.time));
            };

            return React.createElement('div', { className: 'min-h-screen bg-gradient-to-br from-purple-950 via-indigo-950 to-pink-950 p-4 relative overflow-hidden' },
                // Neon glow effects
                React.createElement('div', { className: 'absolute top-0 left-1/4 w-96 h-96 bg-purple-600 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse-custom' }),
                React.createElement('div', { className: 'absolute bottom-0 right-1/4 w-96 h-96 bg-pink-600 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse-custom', style: { animationDelay: '1s' } }),
                React.createElement('div', { className: 'absolute top-1/2 left-1/2 w-96 h-96 bg-indigo-600 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse-custom', style: { animationDelay: '2s' } }),

                React.createElement('div', { className: 'relative z-10 max-w-4xl mx-auto h-screen flex flex-col' },
                    // Header
                    React.createElement('div', { className: 'text-center py-4 md:py-6' },
                        React.createElement('h1', { className: 'text-3xl md:text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-400 to-indigo-400 mb-4' }, 'Weekly Planner'),
                        React.createElement('div', { className: 'flex items-center justify-center gap-1 md:gap-2 flex-wrap px-2' },
                            daysOfWeek.map((day, index) => 
                                React.createElement('button', {
                                    key: day,
                                    onClick: () => setCurrentDayIndex(index),
                                    className: `px-3 py-2 md:px-4 md:py-2 rounded-lg text-xs md:text-sm font-semibold transition-all ${
                                        index === currentDayIndex
                                            ? 'bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg shadow-pink-500/50 scale-105'
                                            : 'bg-black/30 text-purple-300 hover:bg-black/50 border border-purple-500/30'
                                    } ${day === currentDay && index !== currentDayIndex ? 'ring-2 ring-pink-400/50' : ''}`
                                },
                                    day.slice(0, 3),
                                    day === currentDay && index !== currentDayIndex && React.createElement('span', { className: 'ml-1 inline-block w-1.5 h-1.5 bg-pink-400 rounded-full' })
                                )
                            )
                        )
                    ),

                    // Day Title
                    React.createElement('div', { className: 'text-center mb-6' },
                        React.createElement('h2', { className: 'text-3xl md:text-4xl font-bold text-white mb-2' }, selectedDay),
                        selectedDay === currentDay && React.createElement('span', { className: 'inline-block px-4 py-1 bg-gradient-to-r from-pink-500 to-purple-500 text-white text-sm rounded-full shadow-lg shadow-pink-500/50' }, 'Today')
                    ),

                    // Tasks Container
                    React.createElement('div', { className: 'flex-1 bg-black/30 backdrop-blur-xl rounded-2xl border border-purple-500/30 shadow-2xl shadow-purple-900/50 p-6 overflow-hidden flex flex-col' },
                        React.createElement('div', { className: 'flex-1 overflow-y-auto mb-4 space-y-3 pr-2' },
                            sortedTasks(selectedDay).length === 0 
                                ? React.createElement('div', { className: 'flex items-center justify-center h-full' },
                                    React.createElement('p', { className: 'text-purple-300 text-lg' }, 'No tasks yet. Add your first task!')
                                )
                                : sortedTasks(selectedDay).map(task =>
                                    React.createElement('div', {
                                        key: task.id,
                                        className: `p-4 bg-gradient-to-r from-purple-900/50 to-indigo-900/50 backdrop-blur-sm rounded-xl border border-purple-500/40 shadow-lg hover:shadow-purple-500/50 hover:shadow-xl transition-all duration-300 ${task.done ? 'opacity-60' : ''}`
                                    },
                                        React.createElement('div', { className: 'flex justify-between items-start mb-2' },
                                            React.createElement('div', { className: 'flex items-start gap-3 flex-1' },
                                                React.createElement('button', {
                                                    onClick: () => toggleTaskDone(selectedDay, task.id),
                                                    className: `flex-shrink-0 w-6 h-6 rounded-md border-2 flex items-center justify-center transition-all mt-0.5 ${
                                                        task.done 
                                                            ? 'bg-gradient-to-r from-green-500 to-emerald-500 border-green-400' 
                                                            : 'border-purple-400 hover:border-pink-400'
                                                    }`
                                                },
                                                    task.done && React.createElement(Check)
                                                ),
                                                React.createElement('h3', { className: `font-semibold text-white text-lg ${task.done ? 'line-through' : ''}` }, task.title)
                                            ),
                                            React.createElement('button', {
                                                onClick: () => deleteTask(selectedDay, task.id),
                                                className: 'text-pink-400 hover:text-pink-300 ml-2 transition-colors'
                                            }, React.createElement(X))
                                        ),
                                        React.createElement('div', { className: `flex items-center text-purple-300 mb-2 ml-9 ${task.done ? 'line-through' : ''}` },
                                            React.createElement(Clock),
                                            React.createElement('span', { className: 'font-medium ml-2' }, task.time)
                                        ),
                                        task.description && React.createElement('div', { className: `flex items-start text-purple-200 mt-3 pt-3 border-t border-purple-500/30 ml-9 ${task.done ? 'line-through' : ''}` },
                                            React.createElement(AlignLeft),
                                            React.createElement('p', { className: 'text-sm ml-2' }, task.description)
                                        )
                                    )
                                )
                        ),

                        // Add Task Button
                        React.createElement('button', {
                            onClick: () => setShowModal(true),
                            className: 'w-full flex items-center justify-center gap-2 bg-gradient-to-r from-purple-600 via-pink-600 to-indigo-600 hover:from-purple-500 hover:via-pink-500 hover:to-indigo-500 text-white py-4 px-6 rounded-xl transition-all font-semibold text-lg shadow-lg shadow-pink-500/50'
                        },
                            React.createElement(Plus),
                            'Add Task'
                        )
                    )
                ),

                // Modal
                showModal && React.createElement('div', { className: 'fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50' },
                    React.createElement('div', { className: 'bg-gradient-to-br from-purple-900 via-indigo-900 to-pink-900 rounded-2xl shadow-2xl shadow-purple-500/50 max-w-md w-full p-6 border border-purple-500/50' },
                        React.createElement('div', { className: 'flex justify-between items-center mb-6' },
                            React.createElement('h3', { className: 'text-2xl font-bold text-white' }, `Add Task - ${selectedDay}`),
                            React.createElement('button', {
                                onClick: () => setShowModal(false),
                                className: 'text-purple-300 hover:text-white transition-colors'
                            }, React.createElement(X))
                        ),
                        
                        React.createElement('div', { className: 'space-y-4' },
                            React.createElement('div', null,
                                React.createElement('label', { className: 'block text-sm font-medium text-purple-200 mb-2' }, 'Task Title *'),
                                React.createElement('input', {
                                    type: 'text',
                                    value: newTask.title,
                                    onChange: (e) => setNewTask({ ...newTask, title: e.target.value }),
                                    className: 'w-full px-4 py-3 bg-black/30 border border-purple-500/50 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-transparent text-white placeholder-purple-400',
                                    placeholder: 'Enter task title'
                                })
                            ),
                            
                            React.createElement('div', null,
                                React.createElement('label', { className: 'block text-sm font-medium text-purple-200 mb-2' }, 'Time *'),
                                React.createElement('input', {
                                    type: 'time',
                                    value: newTask.time,
                                    onChange: (e) => setNewTask({ ...newTask, time: e.target.value }),
                                    className: 'w-full px-4 py-3 bg-black/30 border border-purple-500/50 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-transparent text-white'
                                })
                            ),
                            
                            React.createElement('div', null,
                                React.createElement('label', { className: 'block text-sm font-medium text-purple-200 mb-2' }, 'Description (Optional)'),
                                React.createElement('textarea', {
                                    value: newTask.description,
                                    onChange: (e) => setNewTask({ ...newTask, description: e.target.value }),
                                    className: 'w-full px-4 py-3 bg-black/30 border border-purple-500/50 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-transparent text-white placeholder-purple-400',
                                    rows: 3,
                                    placeholder: 'Add task description...'
                                })
                            ),
                            
                            React.createElement('div', { className: 'flex gap-3 pt-2' },
                                React.createElement('button', {
                                    onClick: addTask,
                                    className: 'flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white py-3 px-4 rounded-xl transition-all font-semibold shadow-lg shadow-pink-500/50'
                                }, 'Add Task'),
                                React.createElement('button', {
                                    onClick: () => setShowModal(false),
                                    className: 'flex-1 bg-black/40 hover:bg-black/60 text-purple-200 py-3 px-4 rounded-xl transition-all font-semibold border border-purple-500/50'
                                }, 'Cancel')
                            )
                        )
                    )
                )
            );
        }

        ReactDOM.render(React.createElement(WeeklyPlanner), document.getElementById('app'));

        // Service Worker Registration
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js');
        }
    </script>
</body>
</html>
